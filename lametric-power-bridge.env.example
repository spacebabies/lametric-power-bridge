# =============================================================================
# LaMetric Power Bridge - Configuration
#
# Rename this file to 'lametric-power-bridge.env' before running.
# Do NOT commit the actual 'lametric-power-bridge.env' to your repository.
# If you push your secrets to GitHub, I cannot help you.
# =============================================================================

# -----------------------------------------------------------------------------
# LaMetric Device Configuration
# -----------------------------------------------------------------------------

# 1. LAMETRIC PUSH URL (OPTIONAL - Auto-discovery recommended)
# The endpoint where we send the power data to your LaMetric Time device.
#
# As of today, this is OPTIONAL. The bridge will discover your device automatically
# via SSDP (Simple Service Discovery Protocol - the networking equivalent of shouting
# "Oi! Anyone home?" across your local network).
#
# Discovery works if you have exactly ONE LaMetric Time device on your network.
# If you have zero devices, we cannot help you. If you have two or more, we refuse
# to guess which one deserves your power readings - you must specify manually.
#
# The bridge also handles DHCP lease renewals gracefully. When your LaMetric gets
# a new IP address (as it did at 3am last Tuesday), we'll re-discover it automatically.
# You may now sleep soundly.
#
# Manual configuration (for the control enthusiasts):
# - Bypasses auto-discovery entirely
# - Useful if you have multiple devices or discovery fails
# - Format: http://192.168.x.x:8080/api/v2/device/notifications
#
# Leave this EMPTY for auto-discovery (recommended):
LAMETRIC_URL=

# If you insist on manual configuration, uncomment and fill this in:
# LAMETRIC_URL=http://192.168.1.50:8080/api/v2/device/notifications

# 2. LAMETRIC API KEY (REQUIRED)
# The cryptographic handshake required to speak to the display.
# Finding this requires a scavenger hunt based on the arbitrary age of your device.
#
# Pre-2022 Models (The Ancients): Found on the Developer Portal.
# 2022+ Models (The 'Upgrade'): Buried somewhere in the Mobile App settings.
#
# I apologize for the inconsistency on behalf of a company I do not work for.
LAMETRIC_API_KEY=your_api_key_here

# -----------------------------------------------------------------------------
# Tibber Configuration (REQUIRED if using --source=tibber)
# -----------------------------------------------------------------------------

# 3. TIBBER API TOKEN
# The magic string that grants access to your consumption data.
# You can get this from developer.tibber.com.
# Try not to paste this into a public Discord channel.
TIBBER_TOKEN=5_M4nyR4nd0mCh4r4ct3rs_D0N0TCOPTHIS_ItIsAnEx4mpl3

# -----------------------------------------------------------------------------
# HomeWizard Configuration (REQUIRED if using --source=homewizard-v1 or homewizard-v2)
# -----------------------------------------------------------------------------

# 4. HOMEWIZARD HOST
# The local IP address or hostname of your HomeWizard device.
# This setting is used by both v1 (HTTP polling) and v2 (WebSocket) APIs.
# You can find this in your router's DHCP table or the HomeWizard Energy app.
#
# Example: HOMEWIZARD_HOST=192.168.2.87
#
# Pro tip: Set a DHCP reservation for this device to prevent the IP from changing.
HOMEWIZARD_HOST=192.168.1.xxx

# 5. HOMEWIZARD TOKEN (REQUIRED if using --source=homewizard-v2)
# Authentication token for HomeWizard v2 WebSocket API.
# This is NOT your Wi-Fi password or anything remotely sensible.
#
# Requirements:
# - Firmware >= 6.0 (check with: curl http://YOUR_IP/api)
# - Local user created manually via API (see README for the delightful ceremony)
#
# If your firmware version is < 6.0, use --source=homewizard-v1 instead.
# If you cannot be bothered with the user creation ritual, also use v1.
# The v1 API works perfectly fine and does not require this rigamarole.
#
# Example: HOMEWIZARD_TOKEN=your_generated_token_here
HOMEWIZARD_TOKEN=
