# =============================================================================
# LaMetric Power Bridge - Configuration
#
# Rename this file to 'lametric-power-bridge.env' before running.
# Do NOT commit the actual 'lametric-power-bridge.env' to your repository.
# If you push your secrets to GitHub, I cannot help you.
# =============================================================================

# -----------------------------------------------------------------------------
# LaMetric Device Configuration (REQUIRED for all sources)
# -----------------------------------------------------------------------------

# 1. LAMETRIC PUSH URL (OPTIONAL - auto-discovery is recommended)
#
# The bridge will automatically discover your LaMetric Time device via SSDP.
# This is the recommended approach and handles IP changes gracefully.
#
# Only set this if you:
# - Want to override auto-discovery for testing
# - Have a device that refuses to broadcast SSDP (unlikely)
# - Enjoy the thrill of manual configuration
#
# Format: http://192.168.x.x:8080/api/v2/device/notifications
#
# Note: Leave empty for auto-discovery (recommended).
# Note: Old widget URLs (port 4343) still work but are deprecated.
LAMETRIC_URL=

# 2. LAMETRIC API KEY (REQUIRED)
# The cryptographic handshake required to speak to the display.
# Finding this requires a scavenger hunt based on the arbitrary age of your device.
#
# Pre-2022 Models (The Ancients): Found on the Developer Portal.
# 2022+ Models (The 'Upgrade'): Buried somewhere in the Mobile App settings.
#
# I apologize for the inconsistency on behalf of a company I do not work for.
# This is required even when using auto-discovery.
LAMETRIC_API_KEY=your_api_key_here

# -----------------------------------------------------------------------------
# Tibber Configuration (REQUIRED if using --source=tibber)
# -----------------------------------------------------------------------------

# 3. TIBBER API TOKEN (REQUIRED for Tibber)
# The magic string that grants access to your consumption data.
# You can get this from developer.tibber.com.
# Try not to paste this into a public Discord channel.
TIBBER_TOKEN=5_M4nyR4nd0mCh4r4ct3rs_D0N0TCOPTHIS_ItIsAnEx4mpl3

# -----------------------------------------------------------------------------
# HomeWizard Configuration (REQUIRED if using --source=homewizard-v1 or homewizard-v2)
# -----------------------------------------------------------------------------

# 4. HOMEWIZARD HOST (OPTIONAL - auto-discovery is recommended)
#
# The bridge will automatically discover your HomeWizard P1 Meter via mDNS.
# This is the recommended approach and handles IP changes gracefully.
#
# Only set this if you:
# - Want to override auto-discovery for testing
# - Have a device that refuses to broadcast mDNS (very rare)
# - Miss the days when we had to manually configure everything
#
# Note: Leave empty for auto-discovery (recommended).
HOMEWIZARD_HOST=

# 5. HOMEWIZARD TOKEN (REQUIRED for v2 API only)
# Authentication token for HomeWizard v2 WebSocket API.
# This is NOT your Wi-Fi password or anything remotely sensible.
#
# Requirements:
# - Firmware >= 6.0 (check with: curl http://YOUR_IP/api)
# - Local user created manually via API (see README for the delightful ceremony)
#
# If your firmware version is < 6.0, use --source=homewizard-v1 instead.
# If you cannot be bothered with the user creation ritual, also use v1.
# The v1 API works perfectly fine and does not require this rigamarole.
#
# Example: HOMEWIZARD_TOKEN=your_generated_token_here
HOMEWIZARD_TOKEN=
